import unittest
from main import initialize_modbus_client  # Import the initialize_modbus_client function

class TestModbusClientConnection(unittest.TestCase):

    def test_modbus_client_connection(self):
        # Get the Modbus client instance from the main file
        client = initialize_modbus_client()

        # Perform your connection testing here, e.g., checking if it's connected
        is_connected = client.is_socket_open()
        self.assertTrue(is_connected)

        # Close the client connection after testing
        client.close()

if __name__ == '__main__':
    unittest.main()
