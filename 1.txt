from azure.iot.device import IoTHubDeviceClient
import can


def receive_can_messages(bus):

    while True:
        message = bus.recv()
        print(f"Received CAN message:{message}")

def main():
    bus=can.interface.Bus(channel='vcan0',bustype='socketcan')
    receive_can_messages(bus)

if __name__ == '__main__':
    main()
