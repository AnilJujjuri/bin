from azure.iot.device import IoTHubDeviceClient

# Initialize the IoT Hub device client
device_connection_string = "<your device connection string>"
device_client = IoTHubDeviceClient.create_from_connection_string(device_connection_string)

# Clear the desired properties
device_client.patch_twin_reported_properties({})
device_client.patch_twin_desired_properties({})

# Get the updated twin properties
twin = device_client.get_twin()
desired_properties = twin["desired"]
reported_properties = twin["reported"]

# Print the updated twin properties
print("Desired Properties:")
for key, value in desired_properties.items():
    print(key + ": " + str(value))

print("\nReported Properties:")
for key, value in reported_properties.items():
    print(key + ": " + str(value))
