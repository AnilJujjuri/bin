from azure.iot.device import IoTHubDeviceClient

device_connection_string = "HostName=EDGTneerTrainingPractice.azure-devices.net;DeviceId=nodered;SharedAccessKey=mOeGufRBpvjmFut51ghJ0gjmWZDR8BHN1WWJtdsrBY4="
client = IoTHubDeviceClient.create_from_connection_string(device_connection_string)

# Define the sample data
sample_data = {
    "can_device_id": "1001",
    "temperature": 25.5,
    "pressure": 100,
    "humidity": "70",
    "custom_value": "abc"
}

# Update the device twin with the sample data
client.patch_twin_reported_properties(sample_data)

# Disconnect the client
client.disconnect()
