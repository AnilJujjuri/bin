# Use the official Python image for Windows
FROM python:3.9-windowsservercore

# Set the working directory inside the container
WORKDIR /app

# Copy the Python script and config.env file into the container
COPY script.py config.env ./

# Install required Python packages
RUN pip install python-dotenv minimalmodbus azure-iot-device

# Set the environment variable for the config file
ENV DOTENV_PATH=config.env

# Start the Python script
CMD ["python", "script.py"]
