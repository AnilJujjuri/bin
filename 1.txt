from azure.iot.device import IoTHubDeviceClient

# Define the connection string for the device
device_connection_string = "HostName=<your-iot-hub>.azure-devices.net;DeviceId=<your-device-id>;SharedAccessKey=<your-device-access-key>"

# Create an instance of the IoT Hub Device Client
client = IoTHubDeviceClient.create_from_connection_string(device_connection_string)

# Connect to the IoT Hub
client.connect()

# Define the sample telemetry data
telemetry_data = {
    "temperature": 25.5,
    "humidity": 60,
    "pressure": 1013.25
}

# Send the telemetry data to the device twin
client.patch_twin_reported_properties(telemetry_data)

# Disconnect from the IoT Hub
client.disconnect()
