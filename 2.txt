import unittest
from main import send_to_iothub

class TestSendToIoTHub(unittest.TestCase):

    def test_send_to_iothub_successful(self):
        # Replace with test data and expected results
        data = {"properties": {"key1": "value1"}}
        expected_message = "Successfully sent data to IoT Hub"
        
        # Call the send_to_iothub function and assert the result
        result = send_to_iothub(data)
        self.assertEqual(result, expected_message, "Assertion failed: Expected '{}', but got '{}'".format(expected_message, result))

    def test_send_to_iothub_with_exception(self):
        # Replace with test data that triggers an exception
        data = {"properties": {"invalid_key": "value"}}
        expected_message = "Error sending data to IoT Hub"
        
        # Call the send_to_iothub function and assert the result
        result = send_to_iothub(data)
        self.assertEqual(result, expected_message, "Assertion failed: Expected '{}', but got '{}'".format(expected_message, result))

if __name__ == '__main__':
    unittest.main()
